@model IEnumerable<RMQGrainsBeta.Models.CementIndexViewModels>

@{
    ViewBag.Title = "SO List";
}
<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
<h2>Cements</h2>


@using (Html.BeginForm(null, null, FormMethod.Post, new { enctype = "multipart/form-data", @class = "form-inline" }))
{
    <div class="form-group">

        <label>Filter From Date  </label><input type="text" name="DateFrom" id="FilterFrom" class="form-control datepicker" />
    </div>
    <div class="form-group">

        <label>Filter To Date  </label><input type="text" name="DateTo" id="FilterTo" class="form-control datepicker invisible " />
        <input type="submit" id="sbButton" value="Filter" class="form-group btn btn-primary invisible" />
    </div>
}


<p>
    @Html.ActionLink("Add New Transaction", "Create")
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(modelItem => modelItem.SONumber)
        </th>
        <th>
            @Html.DisplayNameFor(modelItem => modelItem.Renewed)
        </th>
        <th>
            @Html.DisplayNameFor(modelItem => modelItem.CurrentStock)
        </th>
        <th>
            @Html.DisplayNameFor(modelItem => modelItem.OriginalStock)
        </th>
        <th>
            @Html.DisplayNameFor(modelItem => modelItem.QuantitySold)
        </th>
        <th>
            @Html.DisplayNameFor(modelItem => modelItem.DateProcessed)
        </th>
        <th>
            @Html.DisplayNameFor(modelItem => modelItem.Stats)
        </th>
        <th>
            @Html.DisplayNameFor(modelItem => modelItem.DateClosed)
        </th>
        <th>
            @Html.DisplayNameFor(modelItem => modelItem.TotalIncome)
        </th>
        <th>
            @Html.DisplayNameFor(modelItem => modelItem.GrossIncome)
        </th>
        <th>
            @Html.DisplayNameFor(modelItem => modelItem.Remarks)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.ActionLink(item.SONumber.ToString(), "Index", "TransactionMain", new { SOnumberPass = item.SONumber }, null)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Renewed)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.CurrentStock)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.OriginalStock)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.QuantitySold)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.DateProcessed)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Stats)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.DateClosed)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.TotalIncome)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.GrossIncome)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Remarks)
        </td>
        <td>@Html.ActionLink("Delete","Delete",new {SOnumber = @item.SONumber})</td>


    


        <td>
            @*@Html.ActionLink("Edit", "Edit", new { id=item.CementID }) |
            @Html.ActionLink("Details", "Details", new { id=item.CementID }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.CementID })*@
        </td>
    </tr>
}

</table>


<script>
    $(function () {
        $(".datepicker").datepicker();
    });

</script>


<script>
    $("#FilterFrom").on('change', function () {
        if ($(this).val() != "") {
            $("#FilterTo").removeClass("invisible");
            $("#sbButton").removeClass("invisible");
        } else {
            $("#FilterTo").addClass("invisible");
            $("#sbButton").addClass("invisible")
        }
    });
</script>
